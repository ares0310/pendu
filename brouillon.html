<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/all.min.css" />
    <link rel="stylesheet" href="css/test.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.css"
    />
    <link rel="stylesheet" href="css/slick.css" />

    <title>pendu</title>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <button type="button" class="btn m-1 btn-danger lettre" id="A">A</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="B">B</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="C">C</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="D">D</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="E">E</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="F">F</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="G">G</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="H">H</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="I">I</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="J">J</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="K">K</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="L">L</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="M">M</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="N">N</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="O">O</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="P">P</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="Q">Q</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="R">R</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="S">S</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="T">T</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="U">U</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="V">V</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="W">W</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="X">X</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="Y">Y</button>
        <button type="button" class="btn m-1 btn-danger lettre" id="Z">Z</button>
      </div>
    </div>
    
    <div class="container word">
      <div class="row">
        <h1>MOT:</h1>
        <h1 id="mot_show"></h1>
        <h1 id="mot_test"></h1>
        
        <h1 class="mot_hide"></h1>
      </div>
      <div class="border image">


      </div>
    </div>

    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/all.min.js"></script>
    <script src="js/slick.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
    <script>

    var motStatus = "";
      // favori FIREFOX explication stackoverflow
      $(document).ready(function () {
        let r = "";
        document.getElementById("A").onclick = compareLetter;
        document.getElementById("B").onclick = compareLetter;
        document.getElementById("C").onclick = compareLetter;
        document.getElementById("D").onclick = compareLetter;
        document.getElementById("E").onclick = compareLetter;
        document.getElementById("F").onclick = compareLetter;
        document.getElementById("G").onclick = compareLetter;
        document.getElementById("H").onclick = compareLetter;
        document.getElementById("I").onclick = compareLetter;
        document.getElementById("J").onclick = compareLetter;
        document.getElementById("K").onclick = compareLetter;
        document.getElementById("L").onclick = compareLetter;
        document.getElementById("M").onclick = compareLetter;
        document.getElementById("N").onclick = compareLetter;
        document.getElementById("O").onclick = compareLetter;
        document.getElementById("P").onclick = compareLetter;
        document.getElementById("Q").onclick = compareLetter;
        document.getElementById("R").onclick = compareLetter;
        document.getElementById("S").onclick = compareLetter;
        document.getElementById("T").onclick = compareLetter;
        document.getElementById("U").onclick = compareLetter;
        document.getElementById("V").onclick = compareLetter;
        document.getElementById("W").onclick = compareLetter;
        document.getElementById("X").onclick = compareLetter;
        document.getElementById("Y").onclick = compareLetter;
        document.getElementById("Z").onclick = compareLetter;
      });

  
      function compareLetter(){
          let lettreDemandee = this.innerHTML
          console.log(lettreDemandee)
          let motAdeviner = document.getElementById("mot_show").innerHTML; 
          let arrayWord = Array.from(motAdeviner);
          console.log(motAdeviner)
          // console.log(arrayWord)
          let compteur = 0;
          for(i=0;i<arrayWord.length;i++){
            if(lettreDemandee==arrayWord[i]){
              // lettre trouve
              compteur += 1;
              let lettreTrouvee = arrayWord[i];
              motStatus[i] = lettreTrouvee;

              // regler ce probleme ici -- les lettres ne sont pas dans l'ordre quand on les appelle. 
              $(".mot_hide").html(motStatus)
              console.log(lettreTrouvee)
            } else {
              // lettre non trouve
              compteur+=0;
            }
          }
          // en cas d'erreur - 
          if(compteur != 0){
            alert("Tu as trouvé une lettre !");
            

          } else {
            alert("DOMMAGE ! Tu n'as pas trouvé la lettre !");
          }
          console.log(compteur);
          

          
          return lettreDemandee;
        }
   

      // creation du mot
      function motUnderscore(motAdeviner){
        motAtransformer = "";
        for(i=1;i<= motAdeviner.length;i++){
          motAtransformer = motAtransformer + "_" ;
        }
        return Array.from(motAtransformer);
      };
  
      // pour commencer le jeu, ouvrir console et appeler la fonction mot() + ch de caractère en parametre.
      function mot(motAdeviner){
        motAdeviner = "VOITURE"; // TODO: remove TEST purpose 
        let word = $("#mot_show").html(motAdeviner);
        // cache le mot
        $(word).hide();
        motStatus = motUnderscore(motAdeviner);
        $(".mot_hide").html(motStatus);
        
        return word;
      }
      
    </script>

  </body>
</html>
